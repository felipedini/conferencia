<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conferência Nestlé</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-barcode"></i> Conferência Nestlé</h1>
            <p>Nestlé Faz Bem</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-boxes"></i>
                </div>
                <div class="stat-content">
                    <h3 id="total-esperados">0</h3>
                    <p>Total Esperado</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-content">
                    <h3 id="total-conferidos">0</h3>
                    <p>Conferidos</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-content">
                    <h3 id="total-pendentes">0</h3>
                    <p>Pendentes</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-percentage"></i>
                </div>
                <div class="stat-content">
                    <h3 id="percentual-conferido">0%</h3>
                    <p>Progresso</p>
                </div>
            </div>
        </div>

        <!-- Dashboard Interativo -->
        <div class="dashboard-section">
            <div class="dashboard-header">
                <h2><i class="fas fa-chart-line"></i> Dashboard do Dia</h2>
                <div class="dashboard-actions">
                    <button id="atualizar-dashboard-btn" class="btn btn-secondary">
                        <i class="fas fa-sync"></i> Atualizar
                    </button>
                </div>
            </div>
            
            <div class="dashboard-summary">
                <div class="summary-card total-card">
                    <div class="summary-icon">
                        <i class="fas fa-boxes"></i>
                    </div>
                    <div class="summary-content">
                        <h3 id="total-hoje">0</h3>
                        <p>Total Bipado Hoje</p>
                    </div>
                </div>
                
                <div class="summary-card coleta-card">
                    <div class="summary-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <div class="summary-content">
                        <h3 id="coleta-hoje">0</h3>
                        <p>Coleta</p>
                    </div>
                </div>
                
                <div class="summary-card insucesso-card">
                    <div class="summary-icon">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <div class="summary-content">
                        <h3 id="insucesso-hoje">0</h3>
                        <p>Insucesso</p>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card transportadoras-card">
                    <div class="card-header">
                        <h4><i class="fas fa-truck"></i> Por Transportadora</h4>
                        <span class="card-subtitle">Distribuição por transportadora</span>
                    </div>
                    <div class="transportadoras-grid" id="transportadoras-stats">
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">J&T</span>
                                <span class="transportadora-count" id="jt-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="jt-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">JADLOG</span>
                                <span class="transportadora-count" id="jadlog-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="jadlog-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">DIALOGO</span>
                                <span class="transportadora-count" id="dialogo-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="dialogo-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">CORREIOS</span>
                                <span class="transportadora-count" id="correios-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="correios-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">CORREIOS PA</span>
                                <span class="transportadora-count" id="correios-pa-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="correios-pa-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">LOGAN</span>
                                <span class="transportadora-count" id="logan-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="logan-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">FAVELA LOG</span>
                                <span class="transportadora-count" id="favela-log-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="favela-log-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">SAC SERVICE</span>
                                <span class="transportadora-count" id="sac-service-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="sac-service-bar"></div>
                            </div>
                        </div>
                        <div class="transportadora-item">
                            <div class="transportadora-info">
                                <span class="transportadora-nome">DISSUDES</span>
                                <span class="transportadora-count" id="dissudes-count">0</span>
                            </div>
                            <div class="transportadora-bar">
                                <div class="bar-fill" id="dissudes-bar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-card status-card">
                    <div class="card-header">
                        <h4><i class="fas fa-chart-pie"></i> Status do Dia</h4>
                        <span class="card-subtitle">Distribuição por status</span>
                    </div>
                    <div class="status-chart">
                        <div class="status-item coleta-status">
                            <div class="status-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div class="status-info">
                                <span class="status-label">Coleta</span>
                                <span class="status-count" id="coleta-hoje-chart">0</span>
                            </div>
                            <div class="status-percentage" id="coleta-percentage">0%</div>
                        </div>
                        <div class="status-item insucesso-status">
                            <div class="status-icon">
                                <i class="fas fa-times-circle"></i>
                            </div>
                            <div class="status-info">
                                <span class="status-label">Insucesso</span>
                                <span class="status-count" id="insucesso-hoje-chart">0</span>
                            </div>
                            <div class="status-percentage" id="insucesso-percentage">0%</div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="section">
                <h2><i class="fas fa-upload"></i> Importar Base de Rastreios</h2>
                <div class="import-section">
                    <textarea id="rastreios-input" placeholder="Cole aqui os códigos de rastreio, um por linha...&#10;Exemplo:&#10;ABC123&#10;DEF456&#10;GHI789"></textarea>
                    <div class="import-actions">
                        <label class="checkbox-container">
                            <input type="checkbox" id="limpar-base">
                            <span class="checkmark"></span>
                            Limpar base existente
                        </label>
                        <button id="importar-btn" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Importar Rastreios
                        </button>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2><i class="fas fa-qrcode"></i> Bipar Mercadoria</h2>
                <div class="scan-section">
                    <div class="input-group">
                        <input type="text" id="codigo-input" placeholder="Digite ou escaneie o código de rastreio" autocomplete="off">
                        <button id="bipar-btn" class="btn btn-success">
                            <i class="fas fa-search"></i> Bipar
                        </button>
                    </div>
                    <div id="scan-result" class="scan-result"></div>
                </div>
            </div>

            <div class="section">
                <h2><i class="fas fa-tags"></i> Classificação de Status</h2>
                <div class="status-section">
                    <div class="status-buttons">
                        <button id="status-coleta-btn" class="btn btn-status btn-coleta">
                            <i class="fas fa-truck"></i> Coleta
                        </button>
                        <button id="status-insucesso-btn" class="btn btn-status btn-insucesso">
                            <i class="fas fa-times-circle"></i> Insucesso
                        </button>
                    </div>
                    <p class="status-info">Clique em um status para ativar a seleção fixa. Todos os rastreios bipados receberão automaticamente o status selecionado.</p>
                </div>
            </div>

            <div class="section">
                <h2><i class="fas fa-file-excel"></i> Exportar Dados</h2>
                <div class="export-section">
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">
                        Exporte todos os rastreios bipados para Excel com informações da transportadora.
                    </p>
                    <button id="exportar-excel-btn" class="btn btn-export">
                        <i class="fas fa-file-excel"></i> Exportar para Excel
                    </button>
                </div>
            </div>

            <div class="tabs">
                <button class="tab-btn active" data-tab="faltantes">
                    <i class="fas fa-exclamation-triangle"></i> Faltantes
                </button>
                <button class="tab-btn" data-tab="conferidas">
                    <i class="fas fa-check"></i> Conferidas
                </button>
                <button class="tab-btn" data-tab="bipadas">
                    <i class="fas fa-barcode"></i> Bipadas
                </button>
            </div>

            <div class="tab-content">
                <div id="faltantes-tab" class="tab-pane active">
                    <div class="list-header">
                        <h3>Mercadorias Faltantes</h3>
                        <div class="header-actions">
                            <span id="faltantes-count" class="count-badge">0</span>
                            <button id="excluir-faltantes-btn" class="btn btn-danger" style="display: none;">
                                <i class="fas fa-trash"></i> Excluir Selecionados
                            </button>
                        </div>
                    </div>
                    <div id="faltantes-list" class="item-list"></div>
                </div>

                <div id="conferidas-tab" class="tab-pane">
                    <div class="list-header">
                        <h3>Mercadorias Conferidas</h3>
                        <span id="conferidas-count" class="count-badge">0</span>
                    </div>
                    <div id="conferidas-list" class="item-list"></div>
                </div>

                <div id="bipadas-tab" class="tab-pane">
                    <div class="list-header">
                        <h3>Rastreios Bipados</h3>
                        <span id="bipadas-count" class="count-badge">0</span>
                    </div>
                    
                    <div class="bipadas-sections">
                        <div class="bipadas-section">
                            <div class="section-header">
                                <h4><i class="fas fa-truck"></i> Coleta</h4>
                                <span id="bipadas-coleta-count" class="count-badge">0</span>
                                <button id="copiar-coleta-btn" class="btn btn-copy">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div id="bipadas-coleta-list" class="item-list"></div>
                        </div>
                        
                        <div class="bipadas-section">
                            <div class="section-header">
                                <h4><i class="fas fa-times-circle"></i> Insucesso</h4>
                                <span id="bipadas-insucesso-count" class="count-badge">0</span>
                                <button id="copiar-insucesso-btn" class="btn btn-copy">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div id="bipadas-insucesso-list" class="item-list"></div>
                        </div>
                        
                        <div class="bipadas-section">
                            <div class="section-header">
                                <h4><i class="fas fa-question-circle"></i> Sem Status</h4>
                                <span id="bipadas-sem-status-count" class="count-badge">0</span>
                                <button id="copiar-sem-status-btn" class="btn btn-copy">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                            <div id="bipadas-sem-status-list" class="item-list"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="actions">
            <button id="resetar-sistema-btn" class="btn btn-danger">
                <i class="fas fa-redo"></i> Resetar Sistema
            </button>
            <button id="resetar-dashboard-btn" class="btn btn-warning">
                <i class="fas fa-chart-line"></i> Resetar Dashboard
            </button>
            <button id="atualizar-btn" class="btn btn-secondary">
                <i class="fas fa-sync"></i> Atualizar Dados
            </button>
        </div>
    </div>

    <!-- Modal de Exportação -->
    <div id="export-modal" class="export-modal">
        <div class="export-content">
            <h3><i class="fas fa-file-excel"></i> Exportar para Excel</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                Selecione a transportadora para os rastreios bipados:
            </p>
            <select id="transportadora-select" class="transportadora-select">
                <option value="">Selecione uma transportadora...</option>
                <option value="J&T">J&T</option>
                <option value="JADLOG">JADLOG</option>
                <option value="DIALOGO">DIALOGO</option>
                <option value="CORREIOS">CORREIOS</option>
                <option value="CORREIOS PA">CORREIOS PA</option>
                <option value="LOGAN">LOGAN</option>
                <option value="FAVELA LOG">FAVELA LOG</option>
                <option value="SAC SERVICE">SAC SERVICE</option>
                <option value="DISSUDES">DISSUDES</option>
            </select>
            <div class="export-actions">
                <button id="confirmar-export-btn" class="btn btn-success">
                    <i class="fas fa-download"></i> Confirmar Exportação
                </button>
                <button id="cancelar-export-btn" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <script src="script.js"></script>
</body>
</html>

